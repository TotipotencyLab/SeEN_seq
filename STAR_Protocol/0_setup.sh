# /////////////////////////////////////////////////////////////////////////////
# Download this repository from github
# /////////////////////////////////////////////////////////////////////////////
git clone https://github.com/TotipotencyLab/SeEN_seq
cd SeEN_seq

# /////////////////////////////////////////////////////////////////////////////
# Set up environment
# /////////////////////////////////////////////////////////////////////////////
# NOTE: For Macbook user: At the time of writing, this may not work properly if you use the ARM version of conda.
# If you use mamba, change 'conda' to 'mamba'
conda env create -f env/SeEN_seq_environment.yml
conda activate SeEN_seq

# /////////////////////////////////////////////////////////////////////////////
# Download test data from SRA
# /////////////////////////////////////////////////////////////////////////////
x=$(cut -f 1 ./example/PRJNA1305216_SraAccList.txt)
for acc in $x; do
    echo $acc
    fastq-dump --split-3 --gzip --skip-technical --outdir ./example/fastq/ $acc
done
